# TODO: FreeIPA Exporter â€” Improvement Roadmap

# ğŸ“… Implementation Plan (Phased):

# ğŸ”¹ Phase 1: Logging and Basic Metrics
# âœ… Improve logging with proper levels (INFO, DEBUG, ERROR)
# âœ… Add `ipa_up` metric to indicate FreeIPA API availability
# âœ… Add `scrape_duration_seconds` metric to measure scrape time
# âœ… Handle connection and request timeouts gracefully *(partially handled with fallback if server._conn is None)*

# ğŸ”¹ Phase 2: Health Checks and Metric Documentation
# âœ… Implement `/health` endpoint for exporter health monitoring
# â˜ Improve HELP strings and descriptions for Prometheus metrics
# â˜ Add unit tests for core functionality

# ğŸ”¹ Phase 3: Replication Status and Error Handling
# âœ… Expose structured replication status (as metrics or labels)
# âœ… Harden response parsing for inconsistent or malformed FreeIPA outputs *(basic try/except present)*
# â˜ Improve resilience to edge cases (missing data, unexpected formats)

# ğŸ”¹ Phase 4: Scalability and Performance (Optional)
# â˜ Refactor for async support using `asyncio` or `trio` (optional)
# â˜ Profile and optimize performance-critical paths
# â˜ Add support for parallel requests to different FreeIPA endpoints
